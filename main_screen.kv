
<GridLayout>:
    canvas.before:
        Color:
            rgba: 1, 0, 0, 0
        Line:
            width: 2
            rectangle: (self.x, self.y, self.width, self.height)

# <BoxLayout>:
#     canvas.before:
#         Color:
#             rgba: 1, 1, 1, 1
#         Line:
#             width: 1
#             rectangle: (self.x, self.y, self.width, self.height)
<TextInput>:
    halign:"center"
    valign:"middle"
    font_name: "arial"
    multiline:False

# canvas.before:
#     Color:
#         rgba: 0, 0, 0, 1
#     Rectangle:
#         pos: self.pos
#         size: self.size


<MainScreen>

    dataset_inputclassname:dataset_inputclassname
    dataset_textoutput:dataset_textoutput
    dataset_btnstart:id_dataset_btnstart
    dataset_inputdatacount:dataset_inputdatacount
    dataset_switchsavedata:dataset_switchsavedata 
    dataset_switchautotrain:dataset_switchautotrain

    sa_btnrecord:sa_btnrecord
    sa_btnplaylastsound:sa_btnplaylastsound
    sa_gensound_freq:sa_gensound_freq
    sa_gensound_sec:sa_gensound_sec
    sa_gensound_btnplay:sa_gensound_btnplay
    sa_filter_inputamp:sa_filter_inputamp
    sa_btnsavedata:sa_btnsavedata
    sa_btnloaddata:sa_btnloaddata
    sa_filter_inputspace:sa_filter_inputspace

    train_btntrain:train_btntrain
    train_textoutput:train_textoutput
    train_inputepoch:train_inputepoch
    train_btntestmodel:train_btntestmodel
    train_btnsavemodel:train_btnsavemodel

    predict_btnpredict:predict_btnpredict
    predict_class:predict_class
    predict_maxconfi:predict_maxconfi
    predict_swautopredict:predict_swautopredict

    model_model:model_model
    model_testaccuracy:model_testaccuracy
    model_testloss:model_testloss

    # file_btnscandataset:file_btnscandataset
    file_filecount:filezone_filecount
    file_traincount:file_traincount
    file_validcount:file_validcount
    file_testcount:file_testcount
    file_classcount:file_classcount
    file_inputtrain_persen:file_inputtrain_persen
    file_btnopenfolder:file_btnopenfolder

    graph_space:graph_space
    graph_spaceOne:graph_spaceOne
    graph_inputMinScaleX:graph_inputMinScaleX
    graph_inputMaxScaleX:graph_inputMaxScaleX
    graph_inputMinScaleY:graph_inputMinScaleY
    graph_inputMaxScaleY:graph_inputMaxScaleY
    graph_labelclasszero:graph_labelclasszero
    graph_labelclassone:graph_labelclassone

    output:output


    default_font_size: 24

    #settingZone and graphZone
    GridLayout:
        cols:2
        size: root.width , root.height


        #Dataset-SoundAnalysis and Train-Predict
        GridLayout:
            cols:1
            rows:3
            
            #Dataset-SoundAnalysis
            GridLayout:
                cols:2
                size_hint:1.0,0.8         
                #dataset
                BoxLayout:
                    orientation:"vertical"
                    padding:[20,20]

                    BoxLayout:
                        Label:
                            id:dataset_textoutput
                            text:'DataSet'
                            font_size:20
                    

                    BoxLayout:    
                        Label:
                            text: "ClassName"
                        TextInput:
                            id:dataset_inputclassname
                            font_size:35

                    BoxLayout:
                        Label:
                            text: "DataCount"
                        TextInput:
                            id:dataset_inputdatacount
                            font_size:35

       
                    BoxLayout:
                        AnchorLayout:
                            anchor_x: 'center'
                            anchor_y: 'center'

                            Button:
                                id:id_dataset_btnstart
                                text:"RecordData"
                                background_color:0,0.8,1,1
                                size_hint_x:None
                                width:200

                    BoxLayout: 
                        BoxLayout:
                            Label:
                                text:"SaveFile"
                            Switch:
                                id:dataset_switchsavedata
                                active:False
                        BoxLayout:
                            Label:
                                text:"AutoTrain"
                            Switch:
                                id:dataset_switchautotrain
                                active:False

    
                    


                #soundAnalysis    
                BoxLayout:
                    orientation:"vertical"
                    padding:[20,20]

                    BoxLayout:
                        Button:
                            id:sa_btnrecord
                            text:"Record"
                        Button:
                            id:sa_btnplaylastsound
                            text:"Play"
                    
                    BoxLayout:
                        orientation:'vertical'                    
                        BoxLayout:
                            Label:
                                text:"Frequency"
                            TextInput:
                                id:sa_gensound_freq
                            
                            Label:
                                text:"Duration"
                            TextInput:
                                id:sa_gensound_sec
                            Button:
                                id:sa_gensound_btnplay
                                text:"GenSound"
                    BoxLayout:
                        orientation:'vertical'
                        BoxLayout:
                            Label:
                                text:"Filter Frequency (dB) :"
                            TextInput:
                                id:sa_filter_inputamp
                                multiline:False
                                font_size:20

                        BoxLayout:
                            Label:
                                text:"SPACE :"
                            TextInput:
                                text:"50"
                                id:sa_filter_inputspace
                                multiline:False
                                font_size:20

                    BoxLayout:
                        Button:
                            id:sa_btnsavedata
                            text:"Save To JSON"
                        Button:
                            id:sa_btnloaddata
                            text:"Load To Data"



            #FileZone            
            BoxLayout:
                #filezone
                BoxLayout:
                    orientation:"vertical"
                    BoxLayout:
                        BoxLayout:
                            padding:[20,20]
                            BoxLayout:
                                orientation:'vertical'
                                Label:
                                    text:"datafile in dataset folder"
                                    # size_hint_x:None
                                    # width: self.texture_size[0]
                                    markup:True
                                    shorten: True
                                    xalign:"center"
                                Label:
                                    padding:[20,5]
                                    id:filezone_filecount
                                    text:"[b]None[/b]"
                                    xalign:'center'
                                    markup:True
                                    shorten: True
                                    font_size:40
                                    color:1,1,0,1
                                    size_hint_x: 1.0
                            BoxLayout:
                                padding:[50,50]
                                Button:
                                    id:file_btnopenfolder
                                    text:"OpenFolder"
                        BoxLayout:
                            BoxLayout:
                                Label:
                                    id:output
                                    text:"Output"
                                    markup:True
                                    shorten: True
                                    font_size:15
                                    

                    BoxLayout:
                        BoxLayout:
                            orientation:'vertical'
                            BoxLayout:
                                Label:
                                    text:"Train Set : "
                                    markup:True
                                    shorten: True

                                Label:
                                    id:file_traincount
                                    text:"None"
                                    markup:True
                                    shorten: True
                                    font_size:25
                                    color:0,1,0,1
                            BoxLayout:
                                Label:
                                    text:"Valid Set : "
                                    markup:True
                                    shorten: True

                                Label:
                                    id:file_validcount
                                    text:"None"
                                    markup:True
                                    shorten: True
                                    font_size:25
                                    color:0,1,0,1
                            BoxLayout:
                                Label:
                                    text:"Test Set : "
                                    markup:True
                                    shorten: True

                                Label:
                                    id:file_testcount
                                    text:"None"
                                    markup:True
                                    shorten: True
                                    font_size:25
                                    color:0,1,0,1
                            BoxLayout:
                                Label:
                                    text:"class count : "
                                    markup:True
                                    shorten: True

                                Label:
                                    id:file_classcount
                                    text:"None"
                                    markup:True
                                    shorten: True
                                    font_size:25
                                    color:0,1,0,1



                        BoxLayout:
                            orientation:"vertical"
                            padding:[20,20]
                                 
                            
                                # on_release: app.changeto_filemanagerScreen()
                


            
            #Train-Predict
            BoxLayout:
                orientation:"horizontal"

                #Train
                BoxLayout:
                    orientation:"vertical"
                    padding:[20,20]

                    BoxLayout:
                        size_hint_y:None
                        height:50
                        Label:
                            text:"split train set (%)"
                    
                        TextInput:
                            id:file_inputtrain_persen
                            font_size:30
                        Label:
                            # id:file_btnscandataset
                            # text:"Process Dataset"
                            size_hint:1.0,1.0

                    BoxLayout:
                        size_hint_y:None
                        height:50
                        Label:
                            text:"Epoch"
                    
                        TextInput:
                            id:train_inputepoch
                            font_size:30
                        Label:
                            text:""
                            size_hint:1.0,1.0
    

            

                    Label:
                        id:train_textoutput
                        text:"train text output"
                        font_size:25
                    
                    BoxLayout:
                        Button:
                            id:train_btntrain
                            text:"Train"
                        Button:
                            id:train_btntestmodel
                            text:"TestModel"
                        Button:
                            id:train_btnsavemodel
                            text:"SaveModel"

                #Predict5
                BoxLayout:
                    orientation:'vertical'
                    padding:[20,20]

                    #model status
                    BoxLayout:
                        orientation:"vertical"   

                        size_hint:1.0,None
                        height:150             

                        BoxLayout:
                            orientation:"horizontal"
                            Label:
                                color:0.5,0.5,1,1
                                text:"Model :"
                                font_size:25
                            Label:
                                id:model_model
                                xalign:"center"
                                color:1,1,0,1
                                text:"Model"
                                font_size:20
                                markup:True

                        BoxLayout:
                            orientation:"horizontal"
                            Label:
                                color:0.5,0.5,1,1
                                text:"Test Accuracy : "
                                font_size:25
                            Label:
                                id:model_testaccuracy
                                color:1,1,0,1
                                text:"NULL"
                                font_size:35
                        BoxLayout:
                            orientation:"horizontal"
                            Label:
                                color:0.5,0.5,1,1
                                text:"Test Loss : "
                                font_size:25
                            Label:
                                id:model_testloss
                                color:1,1,0,1
                                text:"NULL"
                                font_size:35

                    BoxLayout:

                        BoxLayout:
                            orientation:'vertical'

                            Button:
                                padding:[20,20]
                                id:predict_btnpredict
                                text:"Predict"
                                background_color:0,1.0,0.8,1
                            
                            BoxLayout:
                                Label:
                                    text:"Auto Predict"
                                Switch:
                                    id:predict_swautopredict
                                    text:"dsd"
                                
                        
                        BoxLayout:
                            orientation:'vertical'
                            padding:[20,20]
                            BoxLayout:
                                Label:
                                    text:"Class :"
                                    font_size:20
                                Label:
                                    id:predict_class
                                    text:"NULL"
                                    markup:True
                                    font_size:25
                                    color:0,0.5,1,1
                            BoxLayout:
                                Label:
                                    text:"Confi :"
                                    font_size:20
                                Label:
                                    id:predict_maxconfi
                                    text:"NULL"
                                    markup:True
                                    font_size:25
                                    color:0,0.5,1,1
                                    
                        
       
                        

        
        

        
        
        
        BoxLayout:
            orientation:"vertical"
            BoxLayout:
                orientation:"vertical"
                padding:[30,30]
                BoxLayout:
                    size_hint_y:None
                    height:40
                    BoxLayout:
                        Label:
                            text:"MinScale X"
                        TextInput:
                            id:graph_inputMinScaleX
                            text:""
                    BoxLayout:
                        Label:
                            text:"MaxScale X "
                        TextInput:
                            id:graph_inputMaxScaleX
                            text:""
                    BoxLayout:
                        Label:
                            text:"MinScale Y"
                        TextInput:
                            id:graph_inputMinScaleY
                            text:""
                    BoxLayout:
                        Label:
                            text:"MaxScale Y"
                        TextInput:
                            id:graph_inputMaxScaleY
                            text:""
                BoxLayout:
                    id:graph_space
                    orientation: 'vertical'
                
            BoxLayout:
                size_hint_y:None
                height:40
                
                AnchorLayout:
                    anchor_x:"center"
                    BoxLayout:
                        size_hint_x:None
                        width:250
                        BoxLayout:
                            size_hint:None,1.0
                            width:120
                            Label:
                                text:'class-0'
                            BoxLayout:
                                padding:[20,20]
                                canvas.before:
                                    Color:
                                        rgba: 1, 1, 0, 1
                                    Rectangle:
                                        pos: self.pos
                                        size: self.size
                                Label:
                                    id:graph_labelclasszero
                                    text:"0"
                                    font_size:20
                                    color:0,0,0,1
                            
                        
                        BoxLayout:
                            size_hint:None,1.0
                            width:120
                            Label:
                                text:'class-1'
                            BoxLayout:
                                padding:[20,20]
                                canvas.before:
                                    Color:
                                        rgba: 0, 1, 1, 1
                                    Rectangle:
                                        pos: self.pos
                                        size: self.size
                                Label:
                                    id:graph_labelclassone
                                    text:"0"
                                    font_size:20
                                    color:0,0,0,1
                            
            BoxLayout:
                id:graph_spaceOne
                orientation:"vertical"
                padding:[30,30]

                